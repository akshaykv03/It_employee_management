{% extends 'adminHome.html' %}
{% block content %}

<section id="hero" class="hero section dark-background contact">
  <img src="../static/assets/img/hero-bg-admin.jpg" alt="" data-aos="fade-in">

  <div class="container">
    <div class="col-lg-12">

      <!-- Title -->
      <div class="row gy-4 mt-5 justify-content-center" data-aos="fade-up">
        <div class="col-xl-3 col-md-4">
          <div class="icon-box">
            <i class="bi bi-card-list"></i>
            <h3><a href="">All Projects</a></h3>
          </div>
        </div>
      </div>
      <br>

      <!-- Messages -->
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-success">{{ message }}</div>
        {% endfor %}
      {% endif %}



      <!-- âœ… Display All Projects -->
<div class="table-responsive">
  <table class="table table-bordered table-striped mt-3">
    <thead>
      <tr>
        <th>#</th>
        <th>Title</th>
        <th>Client</th>
        <th>Description</th>
        <th>Status</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for project in projects %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ project.title }}</td>
        <td>{{ project.client_name }}</td>
        <td>{{ project.description }}</td>
        <td>
          {{ project.status }} <br>
          {% if project.status != 'Completed' %}
          <a href="adminProjectComplete?id={{ project.id }}" class="btn btn-success btn-sm">
            Mark as Complete
          </a>
          {% endif %}
        </td>
        <td>{{ project.start_date }}</td>
        <td>{{ project.end_date }}</td>
        <td>
          <a href="adminEditProject?id={{ project.id }}" class="btn btn-warning btn-sm">Edit</a> <br><br>
          <a href="adminDeleteProject?id={{ project.id }}" class="btn btn-danger btn-sm">Delete</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="8" class="text-center text-muted">No projects available.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

    </div>
  </div>
</section>

{% endblock %}
